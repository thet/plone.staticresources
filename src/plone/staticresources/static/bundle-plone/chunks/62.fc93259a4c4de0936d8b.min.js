(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{2092:function(t,e,n){"use strict";n.r(e),n.d(e,"CodeJar",(function(){return o}));const r=window;function o(t,e,n={}){const o=Object.assign({tab:"\t",indentOn:/{$/,spellcheck:!1,catchTab:!0,preserveIdent:!0,addClosing:!0,history:!0,window:r},n),s=o.window,i=s.document;let a,c,d=[],l=[],f=-1,u=!1,p=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;t.setAttribute("contentEditable",p?"true":"plaintext-only"),t.setAttribute("spellcheck",o.spellcheck?"true":"false"),t.style.outline="none",t.style.overflowWrap="break-word",t.style.overflowY="auto",t.style.resize="vertical",t.style.whiteSpace="pre-wrap",e(t);const g=M(()=>{const n=w();e(t,n),C(n)},30);let h=!1;const y=t=>!x(t)&&!S(t)&&"Meta"!==t.key&&"Control"!==t.key&&"Alt"!==t.key&&!t.key.startsWith("Arrow"),b=M(t=>{y(t)&&(m(),h=!1)},300),k=(e,n)=>{d.push([e,n]),t.addEventListener(e,n)};function w(){const e=K(),n={start:0,end:0,dir:void 0};return N(t,t=>{if(t===e.anchorNode&&t===e.focusNode)return n.start+=e.anchorOffset,n.end+=e.focusOffset,n.dir=e.anchorOffset<=e.focusOffset?"->":"<-","stop";if(t===e.anchorNode){if(n.start+=e.anchorOffset,n.dir)return"stop";n.dir="->"}else if(t===e.focusNode){if(n.end+=e.focusOffset,n.dir)return"stop";n.dir="<-"}t.nodeType===Node.TEXT_NODE&&("->"!=n.dir&&(n.start+=t.nodeValue.length),"<-"!=n.dir&&(n.end+=t.nodeValue.length))}),n}function C(e){const n=K();let r,o,s=0,i=0;if(e.dir||(e.dir="->"),e.start<0&&(e.start=0),e.end<0&&(e.end=0),"<-"==e.dir){const{start:t,end:n}=e;e.start=n,e.end=t}let a=0;N(t,t=>{if(t.nodeType!==Node.TEXT_NODE)return;const n=(t.nodeValue||"").length;if(a+n>=e.start&&(r||(r=t,s=e.start-a),a+n>=e.end))return o=t,i=e.end-a,"stop";a+=n}),r||(r=t),o||(o=t),"<-"==e.dir&&([r,s,o,i]=[o,i,r,s]),n.setBaseAndExtent(r,s,o,i)}function O(){const e=K().getRangeAt(0),n=i.createRange();return n.selectNodeContents(t),n.setEnd(e.startContainer,e.startOffset),n.toString()}function v(){const e=K().getRangeAt(0),n=i.createRange();return n.selectNodeContents(t),n.setStart(e.endContainer,e.endOffset),n.toString()}function T(t){if(p&&"Enter"===t.key)if(H(t),t.stopPropagation(),""==v()){A("\n ");const t=w();t.start=--t.end,C(t)}else A("\n")}function m(){if(!u)return;const e=t.innerHTML,n=w(),r=l[f];if(r&&r.html===e&&r.pos.start===n.start&&r.pos.end===n.end)return;f++,l[f]={html:e,pos:n},l.splice(f+1);f>300&&(f=300,l.splice(0,1))}function N(t,e){const n=[];t.firstChild&&n.push(t.firstChild);let r=n.pop();for(;r&&"stop"!==e(r);)r.nextSibling&&n.push(r.nextSibling),r.firstChild&&n.push(r.firstChild),r=n.pop()}function E(t){return t.metaKey||t.ctrlKey}function x(t){return E(t)&&!t.shiftKey&&"z"===t.key}function S(t){return E(t)&&t.shiftKey&&"z"===t.key}function A(t){t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),i.execCommand("insertHTML",!1,t)}function M(t,e){let n=0;return(...r)=>{clearTimeout(n),n=s.setTimeout(()=>t(...r),e)}}function D(t){let e=t.length-1;for(;e>=0&&"\n"!==t[e];)e--;e++;let n=e;for(;n<t.length&&/[ \t]/.test(t[n]);)n++;return[t.substring(e,n)||"",e,n]}function L(){return t.textContent||""}function H(t){t.preventDefault()}function K(){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.nodeType)==Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.getSelection():s.getSelection()}return k("keydown",e=>{e.defaultPrevented||(c=L(),o.preserveIdent?function(t){if("Enter"===t.key){const e=O(),n=v();let[r]=D(e),s=r;if(o.indentOn.test(e)&&(s+=o.tab),s.length>0?(H(t),t.stopPropagation(),A("\n"+s)):T(t),s!==r&&"}"===n[0]){const t=w();A("\n"+r),C(t)}}}(e):T(e),o.catchTab&&function(t){if("Tab"===t.key)if(H(t),t.shiftKey){const t=O();let[e,n]=D(t);if(e.length>0){const t=w(),r=Math.min(o.tab.length,e.length);C({start:n,end:n+r}),i.execCommand("delete"),t.start-=r,t.end-=r,C(t)}}else A(o.tab)}(e),o.addClosing&&function(t){const e="([{'\"",n=")]}'\"",r=v(),o=O(),s="\\"===o.substr(o.length-1),i=r.substr(0,1);if(n.includes(t.key)&&!s&&i===t.key){const e=w();H(t),e.start=++e.end,C(e)}else if(e.includes(t.key)&&!s&&("\"'".includes(t.key)||[""," ","\n"].includes(i))){H(t);const r=w(),o=r.start==r.end?"":K().toString();A(t.key+o+n[e.indexOf(t.key)]),r.start++,r.end++,C(r)}}(e),o.history&&(!function(e){if(x(e)){H(e),f--;const n=l[f];n&&(t.innerHTML=n.html,C(n.pos)),f<0&&(f=0)}if(S(e)){H(e),f++;const n=l[f];n&&(t.innerHTML=n.html,C(n.pos)),f>=l.length&&f--}}(e),y(e)&&!h&&(m(),h=!0)))}),k("keyup",t=>{t.defaultPrevented||t.isComposing||(c!==L()&&g(),b(t),a&&a(L()))}),k("focus",t=>{u=!0}),k("blur",t=>{u=!1}),k("paste",n=>{m(),function(n){H(n);const r=(n.originalEvent||n).clipboardData.getData("text/plain").replace(/\r/g,""),o=w();A(r),e(t),C({start:o.start+r.length,end:o.start+r.length})}(n),m(),a&&a(L())}),{updateOptions(t){t=Object.assign(Object.assign({},t),t)},updateCode(n){t.textContent=n,e(t)},onUpdate(t){a=t},toString:L,save:w,restore:C,recordHistory:m,destroy(){for(let[e,n]of d)t.removeEventListener(e,n)}}}}}]);